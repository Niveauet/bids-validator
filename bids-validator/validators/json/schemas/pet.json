{
  "type": "object",
  "properties": {
    "Info": {
      "type": "object",
      "properties": {
        "Modality": { "type": "string", "minLength": 1 },
        "Manufacturer": { "type": "string", "minLength": 1 },
        "PETScanner": { "type": "string", "minLength": 1 },
        "ImagingCenter": { "type": "string", "minLength": 1 },
        "ImagingDepartment": { "type": "string", "minLength": 1 },
        "Anaesthesia": { "type": "string", "minLength": 1 },
        "BodyPart": { "type": "string", "minLength": 1 },
        "BodyWeight": { "type": "number" },
        "BodyWeightUnit": { "type": "string", "minLength": 1 },
        "Unit": { "type": "string", "minLength": 1 },
        "TracerName": { "type": "string", "minLength": 1 },
        "TracerRadLex": { "type": "string", "minLength": 1 },
        "TracerSnoMed": { "type": "string", "minLength": 1 },
        "TracerRadionuclide": { "type": "string", "minLength": 1 },
        "TracerMolecularWeight": { "type": "number" },
        "TracerMolecularWeightUnit": { "type": "string", "minLength": 1 },
        "TracerInjectionType": { "type": "string", "minLength": 1 },
        "PharmaceuticalName": { "type": "string", "minLength": 1 },
        "PharmaceuticalDoseAmount": { "type": "string", "minLength": 1 },
        "PharmaceuticalDoseUnit": { "type": "string", "minLength": 1 },
        "PharmaceuticalDoseRegimen": { "type": "string", "minLength": 1 },
        "PharmaceuticalDoseTime": { "type": "number" },
        "PharmaceuticalDoseTimeUnits": { "type": "string", "minLength": 1 }
      },
      "required": [
        "Manufacturer",
        "PETScanner",
        "ImagingCenter",
        "ImagingDepartment",
        "TracerRadionuclide"
      ],
      "dependencies": {
        "TracerMolecularWeight": ["TracerMolecularWeightUnit"],
        "BodyWeight": ["BodyWeightUnit"]
      }
    },
    "RadioChem": {
      "type": "object",
      "properties": {
        "InjectedRadioactivity": { "type": "number" },
        "InjectedRadioActivityUnits": { "type": "string", "minLength": 1 },
        "InjectedMass": { "type": "number" },
        "InjectedMassUnits": { "type": "string", "minLength": 1 },
        "SpecificRadioactivity": { "type": "number" },
        "SpecificRadioactivityUnits": { "type": "string", "minLength": 1 },
        "SpecificRadioactivityMeasTime": { "type": "string", "minLength": 1 }, // only hh:mm:ss (regex)
        "MolarActivity": { "type": "number" },
        "MolarActivityUnits": { "type": "string", "minLength": 1 },
        "MolarActivityMeasTime": { "type": "string", "minLength": 1 }, // only hh:mm:ss (regex)
        "Purity": { "type": "number" },
        "PurityUnits": { "type": "string", "minLength": 1 },
        "ModeOfAdministration": { "type": "string", "minLength": 1 },
        "InfusionSpeed": { "type": "string", "minLength": 1 },
        "InfusionSpeedUnit": { "type": "string", "minLength": 1 },
        "InjectedVolume": { "type": "number" },
        "InjectedVolumeUnits": { "type": "string", "minLength": 1 }
      },
      "required": [
        "InjectedRadioactivity",
        "InjectedMass",
        "SpecificRadioActivity",
        "Purity",
        "InfusionSpeed",
        "ModeOfAdministration"
      ],
      "dependencies": {
        "InjectedRadioactivity": ["InjectedRadioActivityUnits"],
        "InjectedMass": ["InjectedMassUnits"],
        "MolarActivity": ["MolarActivityUnits"],
        "SpecificRadioactivity": ["SpecificRadioactivityUnits"],
        "Purity": ["PurityUnits"],
        "InfusionSpeed": ["InfusionSpeedUnit"],
        "InjectedVolume": ["InjectedVolumeUnits"]
      }
    },
    "Time": {
      "type": "object",
      "properties": {
        "ScanDate": { "type": "string", "minLength": 1 }, // only dd:mm:yyyy (regex)
        "ScanStart": { "type": "string", "minLength": 1 }, // only hh:mm:ss (regex)
        "InjectionStart": { "type": "string", "minLength": 1 }, // only hh:mm:ss (regex)
        "InjectionEnd": { "type": "string", "minLength": 1 }, // only hh:mm:ss (regex)
        "FrameTimesStart": {
          "type": "array",
          "items": { "type": "number" }
        },
        "FrameTimesStartUnits": { "type": "string", "minLength": 1 },
        "FrameTimesEnd": {
          "type": "array",
          "items": { "type": "number" }
        },
        "FrameTimesEndUnits": { "type": "string", "minLength": 1 }
      },
      "required": [
        "ScanStart",
        "InjectionStart",
        "FrameTimesStart",
        "FrameTimesEnd"
      ],
      "dependencies": {
        "FrameTimesStart": ["FrameTimesStartUnits"],
        "FrameTimesEnd": ["FrameTimesEndUnits"]
      }
    },
    "Plasma": {
      "type": "object",
      "properties": {
        "PlasmaType": { "type": "string", "minLength": 1 },
        "FreeFraction": { "type": "number" }, // Number between 0 and 1
        "FreeFractionMethod": { "type": "string", "minLength": 1 },
        "PlasmaTimeZero": { "type": "string", "minLength": 1 }, // hh:mm:ss
        "PlasmaDecayCorrected": { "type": "boolean" },
        "PlasmaDecayCorrectionTime": { "type": "string", "minLength": 1 }, // hh:mm:ss
        "PlasmaSampleTime": {
          "type": "array",
          "items": { "type": "number" }
        },
        "PlasmaSampleTimeUnits": { "type": "string", "minLength": 1 },
        "PlasmaActivity": {
          "type": "array",
          "items": { "type": "number" }
        },
        "PlasmaActivityUnits": { "type": "string", "minLength": 1 }
      },
      "required": [
        "PlasmaType",
        "PlasmaTimeZero",
        "PlasmaDecayCorrected",
        "PlasmaSampleTime",
        "PlasmaActivity"
      ],
      "dependencies": {
        "PlasmaDecayCorrected": ["PlasmaDecayCorrectionTime"],
        "PlasmaSampleTime": ["PlasmaSampleTimeUnits"],
        "PlasmaActivity": ["PlasmaActivityUnits"]
      }
    },
    "Metabolite": {
      "type": "object",
      "properties": {
        "MetaboliteType": { "type": "string", "minLength": 1 },
        "MetaboliteMethod": { "type": "string", "minLength": 1 },
        "MetaboliteTimeZero": { "type": "string", "minLength": 1 }, // hh:mm:ss
        "MetaboliteSampleTime": {
          "type": "array",
          "items": { "type": "number" }
        },
        "MetaboliteSampleTimeUnits": { "type": "string", "minLength": 1 },
        "MetaboliteParentFraction": {
          "type": "array",
          "items": { "type": "number" } // Between 1 and  0
        },
        "MetaboliteParentFractionUnits": { "type": "string", "minLength": 1 },
        "MetabolitePolar": { "type": "array", "items": { "type": "number" } },
        "MetabolitePolarUnits": { "type": "string", "minLength": 1 },
        "MetaboliteLipophilic": {
          "type": "array",
          "items": { "type": "number" }
        },
        "MetaboliteLipophilicUnits": { "type": "string", "minLength": 1 }
      },
      "required": [
        "MetaboliteType",
        "MetaboliteMethod",
        "MetaboliteTimeZero",
        "MetaboliteSampleTime",
        "MetaboliteParentFraction"
      ],
      "dependencies": {
        "MetaboliteSampleTime": ["MetaboliteSampleTimeUnits"],
        "MetaboliteParentFraction": ["MetaboliteParentFractionUnits"],
        "MetabolitePolar": ["MetabolitePolarUnits"],
        "MetaboliteLipophilic": ["MetaboliteLipophilicUnits"]
      }
    },
    "BloodDiscrete": {
      "type": "object",
      "properties": {
        "Haematocrit": { "type": "string", "minLength": 1 },
        "BloodDensity": { "type": "string", "minLength": 1 },
        "BloodDensityUnits": { "type": "string", "minLength": 1 },
        "BloodDiscreteTimeZero": { "type": "string", "minLength": 1 }, // hh:mm:ss
        "BloodDiscreteDecayCorrected": { "type": "boolean" },
        "BloodDiscreteDecayCorrectionTime": {
          "type": "string",
          "minLength": 1
        }, // hh:mm:ss
        "BloodDiscreteType": { "type": "string", "minLength": 1 },
        "BloodDiscreteSampleTime": {
          "type": "array",
          "items": { "type": "number" }
        },
        "BloodDiscreteSampleTimeUnits": { "type": "string", "minLength": 1 },
        "BloodDiscreteActivity": {
          "type": "array",
          "items": { "type": "number" }
        },
        "BloodDiscreteActivityUnits": { "type": "string", "minLength": 1 }
      },
      "required": [
        "Haematocrit",
        "BloodDiscreteDecayCorrected",
        "BloodDiscreteType",
        "BloodDiscreteSampleTime",
        "BloodDiscreteActivity"
      ],
      "dependencies": {
        "BloodDensity": ["BloodDensityUnits"],
        "BloodDiscreteDecayCorrected": ["BloodDiscreteDecayCorrectionTime"],
        "BloodDiscreteSampleTime": ["BloodDiscreteSampleTimeUnits"],
        "BloodDiscreteActivity": ["BloodDiscreteActivityUnits"]
      }
    },
    "BloodContinuous": {
      "type": "object",
      "properties": {
        "WithdrawalRate": { "type": "string", "minLength": 1 },
        "WithdrawalRateUnits": { "type": "string", "minLength": 1 },
        "TubingLength": { "type": "string", "minLength": 1 },
        "TubingLengthUnits": { "type": "string", "minLength": 1 },
        "DispersionCorrected": { "type": "boolean" },
        "DispersionConstant": { "type": "string", "minLength": 1 },
        "DispersionConstantUnits": { "type": "string", "minLength": 1 },
        "BloodContinuousTimeZero": { "type": "string", "minLength": 1 }, // hh:mm:ss
        "BloodContinuousDecayCorrected": { "type": "boolean" }, // require time if true
        "BloodContinuousDecayCorrectionTime": {
          "type": "string",
          "minLength": 1
        }, // hh:mm:ss
        "BloodContinuousType": { "type": "string", "minLength": 1 },
        "BloodContinuousSampleTime": {
          "type": "array",
          "items": { "type": "number" }
        },
        "BloodContinuousSampleTimeUnits": { "type": "string", "minLength": 1 },
        "BloodContinuousActivity": {
          "type": "array",
          "items": { "type": "number" }
        },
        "BloodContinuousActivityUnits": { "type": "string", "minLength": 1 }
      },
      "required": [
        "BloodContinuousDecayCorrected",
        "BloodContinuousSampleTime",
        "BloodContinuousActivity"
      ],
      "dependencies": {
        "WithdrawalRate": ["WithdrawalRateUnits"],
        "TubingLength": ["TubingLengthUnits"],
        "DispersionCorrected": [
          "DispersionConstant",
          "DispersionConstantUnits"
        ],
        "BloodContinuousSampleTime": ["BloodContinuousSampleTimeUnits"],
        "BloodContinuousActivity": ["BloodContinuousActivityUnits"]
      }
    },
    "Glucose": {
      "type": "object",
      "properties": {}
    },
    "Recon": {
      "type": "object",
      "properties": {
        "AcquisitionMode": { "type": "string", "minLength": 1 },
        "DiameterFOV": {
          "type": "array",
          "items": { "type": "number" }
        },
        "DiameterFOVUnit": { "type": "string", "minLength": 1 },
        "ReconMatrixSize": {
          "type": "array",
          "items": { "type": "number" },
          "minItems": 3,
          "maxItems": 3
        },
        "ImageVoxelSize": {
          "type": "array",
          "items": { "type": "number" }
        },
        "MethodName": { "type": "string", "minLength": 1 },
        "MethodParameterLabels": {
          "type": "array",
          "items": { "type": "string" }
        },
        "MethodParameterUnits": {
          "type": "array",
          "items": { "type": "string" }
        },
        "MethodParameterValues": {
          "type": "array",
          "items": { "type": "number" }
        },
        "MethodImplementationVersion": { "type": "string", "minLength": 1 },
        "FilterType": { "type": "string", "minLength": 1 },
        "FilterSize": {
          "type": "array",
          "items": { "type": "number" }
        },
        "AttenuationCorrection": { "type": "string", "minLength": 1 }
      },
      "required": [
        "AcquisitionMode",
        "ReconMatrixSize",
        "ImageVoxelSize",
        "MethodName",
        "MethodParameterLabels",
        "FilterType",
        "FilterSize",
        "AttenuationCorrection"
      ],
      "dependencies": {
        "DiameterFOV": ["DiameterFOVUnit"],
        "MethodParameterLabels": [
          "MethodParameterUnits",
          "MethodParameterValues"
        ]
      }
    }
  },
  "required": ["Info", "RadioChem", "Time", "Recon"]
}
